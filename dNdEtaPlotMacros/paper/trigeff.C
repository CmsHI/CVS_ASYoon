#include "common.h"

void trigeff(){

	//=========Macro generated from canvas: cEvtSel/EvtSel
	//=========  (Thu Dec 17 14:05:21 2009) by ROOT version5.22/00d

  gROOT->Reset();
  gROOT->ProcessLine(".x rootlogon.C");

	TCanvas *cEvtSel = new TCanvas("cEvtSel", "EvtSel",550,600);
	
	TH1 *hFrame = new TH2D("hFrame","",1,0,20.5,1,0,1.15);
	hFrame->SetDirectory(0);
	hFrame->SetStats(0);
	hFrame->GetXaxis()->SetTitle("Event multiplicity");
	hFrame->GetYaxis()->SetTitle("Selection efficiency");
	hFrame->Draw("");

	hFrame->GetXaxis()->CenterTitle();
        hFrame->GetYaxis()->CenterTitle();

	hFrame->GetXaxis()->SetNdivisions(220);

	TGraphAsymmErrors *grae = new TGraphAsymmErrors(27);
	grae->SetName("a1");
	grae->SetTitle("");
	grae->SetFillColor(1);
	grae->SetMarkerStyle(25);
	grae->SetMarkerSize(1.2);
	grae->SetPoint(0,0,-1);
	grae->SetPointError(0,0,0,6.967609e-05,8.45763e-05);
	grae->SetPoint(1,1,0.03124274);
	grae->SetPointError(1,0,0,0.001840245,0.001912953);
	grae->SetPoint(2,2,0.1027426);
	grae->SetPointError(2,0,0,0.00358395,0.003659308);
	grae->SetPoint(3,3,0.1674687);
	grae->SetPointError(3,0,0,0.004350254,0.004411283);
	grae->SetPoint(4,4,0.2304592);
	grae->SetPointError(4,0,0,0.005029346,0.005081132);
	grae->SetPoint(5,5,0.2762862);
	grae->SetPointError(5,0,0,0.005456826,0.005501609);
	grae->SetPoint(6,6,0.3095652);
	grae->SetPointError(6,0,0,0.006077653,0.006121854);
	grae->SetPoint(7,7,0.3540501);
	grae->SetPointError(7,0,0,0.006866117,0.00690647);
	grae->SetPoint(8,8,0.382704);
	grae->SetPointError(8,0,0,0.007570157,0.007608287);
	grae->SetPoint(9,9,0.4039069);
	grae->SetPointError(9,0,0,0.008301168,0.008338003);
	grae->SetPoint(10,10,0.460503);
	grae->SetPointError(10,0,0,0.009374507,0.009393171);
	grae->SetPoint(11,11,0.4721973);
	grae->SetPointError(11,0,0,0.01056544,0.01058207);
	grae->SetPoint(12,12,0.4870283);
	grae->SetPointError(12,0,0,0.01213252,0.01214272);
	grae->SetPoint(13,13,0.5363372);
	grae->SetPointError(13,0,0,0.01345994,0.01342473);
	grae->SetPoint(14,14,0.5622642);
	grae->SetPointError(14,0,0,0.01527249,0.01519421);
	grae->SetPoint(15,15,0.6092308);
	grae->SetPointError(15,0,0,0.01923331,0.01900956);
	grae->SetPoint(16,16,0.5929019);
	grae->SetPointError(16,0,0,0.02254513,0.02228716);
	grae->SetPoint(17,17,0.5932203);
	grae->SetPointError(17,0,0,0.02873368,0.02831433);
	grae->SetPoint(18,18,0.5766871);
	grae->SetPointError(18,0,0,0.038802,0.03818071);
	grae->SetPoint(19,19,0.625);
	grae->SetPointError(19,0,0,0.04785401,0.04627609);
	grae->SetPoint(20,20,0.6393443);
	grae->SetPointError(20,0,0,0.06205423,0.05908957);
	grae->SetPoint(21,21,0.6829268);
	grae->SetPointError(21,0,0,0.07398069,0.06826194);
	grae->SetPoint(22,22,0.65);
	grae->SetPointError(22,0,0,0.1065522,0.09734165);
	grae->SetPoint(23,23,0.6666667);
	grae->SetPointError(23,0,0,0.1346547,0.118443);
	grae->SetPoint(24,24,1);
	grae->SetPointError(24,0,0,0.1337716,0);
	grae->SetPoint(25,25,1);
	grae->SetPointError(25,0,0,0.4369725,0);
	grae->SetPoint(26,27,1);
	grae->SetPointError(26,0,0,0.4369725,0);
	
	TH1 *Graph1 = new TH1F("Graph1","",100,0,29.7);
	Graph1->SetMinimum(-1.200077);
	Graph1->SetMaximum(1.200007);
	Graph1->SetDirectory(0);
	Graph1->SetStats(0);
	grae->SetHistogram(Graph1);
	
	grae->Draw("p ");
	
	grae = new TGraphAsymmErrors(85);
	grae->SetName("a2");
	grae->SetTitle("");
	grae->SetFillColor(1);
	grae->SetMarkerStyle(20);
	grae->SetMarkerSize(1.2);
	grae->SetPoint(0,0,-1);
	grae->SetPointError(0,0,0,0.0007871246,0.0008215521);
	grae->SetPoint(1,1,0.3242094);
	grae->SetPointError(1,0,0,0.004877877,0.004903465);
	grae->SetPoint(2,2,0.4604874);
	grae->SetPointError(2,0,0,0.005033199,0.005038577);
	grae->SetPoint(3,3,0.5546551);
	grae->SetPointError(3,0,0,0.004721965,0.004715398);
	grae->SetPoint(4,4,0.6076764);
	grae->SetPointError(4,0,0,0.004444474,0.004432609);
	grae->SetPoint(5,5,0.6566537);
	grae->SetPointError(5,0,0,0.004199251,0.004182974);
	grae->SetPoint(6,6,0.6877206);
	grae->SetPointError(6,0,0,0.004071738,0.004052511);
	grae->SetPoint(7,7,0.7348045);
	grae->SetPointError(7,0,0,0.00384507,0.003821463);
	grae->SetPoint(8,8,0.7692596);
	grae->SetPointError(8,0,0,0.00366275,0.003635812);
	grae->SetPoint(9,9,0.7990378);
	grae->SetPointError(9,0,0,0.003437767,0.003408666);
	grae->SetPoint(10,10,0.8182011);
	grae->SetPointError(10,0,0,0.003256301,0.003226332);
	grae->SetPoint(11,11,0.8427505);
	grae->SetPointError(11,0,0,0.003030155,0.002998819);
	grae->SetPoint(12,12,0.8540013);
	grae->SetPointError(12,0,0,0.002913306,0.002881524);
	grae->SetPoint(13,13,0.8701978);
	grae->SetPointError(13,0,0,0.002770185,0.002737051);
	grae->SetPoint(14,14,0.8871391);
	grae->SetPointError(14,0,0,0.002614807,0.002580027);
	grae->SetPoint(15,15,0.8910595);
	grae->SetPointError(15,0,0,0.002617575,0.002581281);
	grae->SetPoint(16,16,0.8929159);
	grae->SetPointError(16,0,0,0.002634788,0.002597292);
	grae->SetPoint(17,17,0.9014615);
	grae->SetPointError(17,0,0,0.002636247,0.002595021);
	grae->SetPoint(18,18,0.9102754);
	grae->SetPointError(18,0,0,0.002619505,0.002574339);
	grae->SetPoint(19,19,0.9144881);
	grae->SetPointError(19,0,0,0.00264071,0.00259233);
	grae->SetPoint(20,20,0.9204977);
	grae->SetPointError(20,0,0,0.002664873,0.002611554);
	grae->SetPoint(21,21,0.923897);
	grae->SetPointError(21,0,0,0.002755897,0.002696166);
	grae->SetPoint(22,22,0.9252795);
	grae->SetPointError(22,0,0,0.002842618,0.002777849);
	grae->SetPoint(23,23,0.92716);
	grae->SetPointError(23,0,0,0.002992098,0.002918448);
	grae->SetPoint(24,24,0.9349816);
	grae->SetPointError(24,0,0,0.002923268,0.002843945);
	grae->SetPoint(25,25,0.9361766);
	grae->SetPointError(25,0,0,0.003052246,0.002964175);
	grae->SetPoint(26,26,0.9415808);
	grae->SetPointError(26,0,0,0.00305065,0.002954173);
	grae->SetPoint(27,27,0.9452606);
	grae->SetPointError(27,0,0,0.003062466,0.002958495);
	grae->SetPoint(28,28,0.9423876);
	grae->SetPointError(28,0,0,0.003260644,0.003149073);
	grae->SetPoint(29,29,0.9465082);
	grae->SetPointError(29,0,0,0.003344208,0.003217655);
	grae->SetPoint(30,30,0.9453376);
	grae->SetPointError(30,0,0,0.003516089,0.003379519);
	grae->SetPoint(31,31,0.9447791);
	grae->SetPointError(31,0,0,0.003696218,0.00354715);
	grae->SetPoint(32,32,0.9471772);
	grae->SetPointError(32,0,0,0.003826092,0.003659207);
	grae->SetPoint(33,33,0.948261);
	grae->SetPointError(33,0,0,0.003844634,0.003672579);
	grae->SetPoint(34,34,0.9541528);
	grae->SetPointError(34,0,0,0.003916847,0.003715337);
	grae->SetPoint(35,35,0.9599856);
	grae->SetPointError(35,0,0,0.003836325,0.003614818);
	grae->SetPoint(36,36,0.946258);
	grae->SetPointError(36,0,0,0.004622205,0.004384973);
	grae->SetPoint(37,37,0.96);
	grae->SetPointError(37,0,0,0.004178175,0.003916666);
	grae->SetPoint(38,38,0.9675573);
	grae->SetPointError(38,0,0,0.00402536,0.00372719);
	grae->SetPoint(39,39,0.9581152);
	grae->SetPointError(39,0,0,0.004750099,0.004429643);
	grae->SetPoint(40,40,0.9568427);
	grae->SetPointError(40,0,0,0.005022322,0.004675717);
	grae->SetPoint(41,41,0.9658569);
	grae->SetPointError(41,0,0,0.004866639,0.004457659);
	grae->SetPoint(42,42,0.9645535);
	grae->SetPointError(42,0,0,0.00504838,0.004625);
	grae->SetPoint(43,43,0.9548023);
	grae->SetPointError(43,0,0,0.006156177,0.005665651);
	grae->SetPoint(44,44,0.9752431);
	grae->SetPointError(44,0,0,0.00491772,0.004354743);
	grae->SetPoint(45,45,0.9698189);
	grae->SetPointError(45,0,0,0.00575928,0.005126428);
	grae->SetPoint(46,46,0.9563164);
	grae->SetPointError(46,0,0,0.007397715,0.006677362);
	grae->SetPoint(47,47,0.9741602);
	grae->SetPointError(47,0,0,0.006139353,0.00531752);
	grae->SetPoint(48,48,0.9717682);
	grae->SetPointError(48,0,0,0.006883837,0.005943462);
	grae->SetPoint(49,49,0.9580745);
	grae->SetPointError(49,0,0,0.008394813,0.007443062);
	grae->SetPoint(50,50,0.970894);
	grae->SetPointError(50,0,0,0.008367304,0.007051933);
	grae->SetPoint(51,51,0.9635193);
	grae->SetPointError(51,0,0,0.009389502,0.008055854);
	grae->SetPoint(52,52,0.9760766);
	grae->SetPointError(52,0,0,0.008306627,0.006770662);
	grae->SetPoint(53,53,0.9794118);
	grae->SetPointError(53,0,0,0.008754823,0.00684304);
	grae->SetPoint(54,54,0.9637681);
	grae->SetPointError(54,0,0,0.01245642,0.0101966);
	grae->SetPoint(55,55,0.9694656);
	grae->SetPointError(55,0,0,0.01193964,0.009521574);
	grae->SetPoint(56,56,0.9819005);
	grae->SetPointError(56,0,0,0.01066826,0.00767374);
	grae->SetPoint(57,57,0.9831461);
	grae->SetPointError(57,0,0,0.01182718,0.008061845);
	grae->SetPoint(58,58,0.9738562);
	grae->SetPointError(58,0,0,0.01527449,0.01104026);
	grae->SetPoint(59,59,0.9844961);
	grae->SetPointError(59,0,0,0.01404469,0.008730568);
	grae->SetPoint(60,60,0.9830508);
	grae->SetPointError(60,0,0,0.01531951,0.009536518);
	grae->SetPoint(61,61,0.9878049);
	grae->SetPointError(61,0,0,0.01777482,0.008852686);
	grae->SetPoint(62,62,0.9666667);
	grae->SetPointError(62,0,0,0.02937123,0.0185786);
	grae->SetPoint(63,63,1);
	grae->SetPointError(63,0,0,0.0165122,0);
	grae->SetPoint(64,64,0.9846154);
	grae->SetPointError(64,0,0,0.02224953,0.01114341);
	grae->SetPoint(65,65,0.9512195);
	grae->SetPointError(65,0,0,0.04196305,0.02694452);
	grae->SetPoint(66,66,1);
	grae->SetPointError(66,0,0,0.03421472,0);
	grae->SetPoint(67,67,1);
	grae->SetPointError(67,0,0,0.03757113,0);
	grae->SetPoint(68,68,1);
	grae->SetPointError(68,0,0,0.03757113,0);
	grae->SetPoint(69,69,1);
	grae->SetPointError(69,0,0,0.0586742,0);
	grae->SetPoint(70,70,1);
	grae->SetPointError(70,0,0,0.08458096,0);
	grae->SetPoint(71,71,0.9230769);
	grae->SetPointError(71,0,0,0.09605298,0.05334161);
	grae->SetPoint(72,72,1);
	grae->SetPointError(72,0,0,0.1337716,0);
	grae->SetPoint(73,73,1);
	grae->SetPointError(73,0,0,0.09129775,0);
	grae->SetPoint(74,74,1);
	grae->SetPointError(74,0,0,0.1337716,0);
	grae->SetPoint(75,75,1);
	grae->SetPointError(75,0,0,0.2052842,0);
	grae->SetPoint(76,77,1);
	grae->SetPointError(76,0,0,0.2052842,0);
	grae->SetPoint(77,78,1);
	grae->SetPointError(77,0,0,0.2496484,0);
	grae->SetPoint(78,79,1);
	grae->SetPointError(78,0,0,0.1742602,0);
	grae->SetPoint(79,80,1);
	grae->SetPointError(79,0,0,0.3181538,0);
	grae->SetPoint(80,82,1);
	grae->SetPointError(80,0,0,0.4369725,0);
	grae->SetPoint(81,83,1);
	grae->SetPointError(81,0,0,0.3181538,0);
	grae->SetPoint(82,84,1);
	grae->SetPointError(82,0,0,0.4369725,0);
	grae->SetPoint(83,85,1);
	grae->SetPointError(83,0,0,0.4369725,0);
	grae->SetPoint(84,86,1);
	grae->SetPointError(84,0,0,0.4369725,0);
	
	TH1 *Graph2 = new TH1F("Graph2","",100,0,94.6);
	Graph2->SetMinimum(-1.200866);
	Graph2->SetMaximum(1.200079);
	Graph2->SetDirectory(0);
	Graph2->SetStats(0);
	grae->SetHistogram(Graph2);
	
	grae->Draw("p ");
	
	TLegend *leg = new TLegend(0.58,0.22,0.96,0.40,NULL,"brNDC");
	leg->SetBorderSize(0);
	leg->SetFillColor(0);
	leg->SetFillStyle(0);

	TLegendEntry *entry=leg->AddEntry("a2","NSD efficiency","p");
	entry=leg->AddEntry("a1","SD efficiency","p");
        entry=leg->AddEntry("a3","(|#eta|<2.5)","");
	leg->Draw();

	// add some text labels                                                                                                             
        double ndcX = 0.2;
        double ndcY = 0.9;
        TLatex *tex = new TLatex(0.85,ndcY,"CMS");
        tex->SetTextSize(0.04);
        tex->SetLineWidth(2);
        tex->SetNDC();
        tex->Draw();

        cEvtSel->Modified();
        cEvtSel->cd();
        cEvtSel->SetSelected(cEvtSel);

	printFinalCanvases(cEvtSel,"trigeff");

}


