#include "common.h"

void diffrac(){

	//=========Macro generated from canvas: cEvtSel/EvtSel
	//=========  (Thu Dec 17 14:05:21 2009) by ROOT version5.22/00d

  gROOT->Reset();
  gROOT->ProcessLine(".x rootlogon.C");

  TCanvas *cEvtSel = new TCanvas("cEvtSel", "EvtSel",550,600);
	
  TH1 *hFrame = new TH2D("hFrame","",1,0,25.5,1,0,0.105);
  hFrame->SetDirectory(0);
  hFrame->SetStats(0);
  hFrame->GetXaxis()->SetTitle("Event multiplicity");
  hFrame->GetYaxis()->SetTitle("Fraction");
  hFrame->Draw("");
  
  hFrame->GetXaxis()->CenterTitle();
  hFrame->GetYaxis()->CenterTitle();
  
  hFrame->GetXaxis()->SetNdivisions(220);

	TH1 *hGenSDofNpix = new TH1D("hGenSDofNpix","Generated processes",250,-0.5,249.5);
	hGenSDofNpix->SetBinContent(1,0.4083424);
	hGenSDofNpix->SetBinContent(2,0.07751798);
	hGenSDofNpix->SetBinContent(3,0.06335587);
	hGenSDofNpix->SetBinContent(4,0.06548064);
	hGenSDofNpix->SetBinContent(5,0.06254558);
	hGenSDofNpix->SetBinContent(6,0.06002467);
	hGenSDofNpix->SetBinContent(7,0.05176869);
	hGenSDofNpix->SetBinContent(8,0.04345869);
	hGenSDofNpix->SetBinContent(9,0.03695834);
	hGenSDofNpix->SetBinContent(10,0.03134031);
	hGenSDofNpix->SetBinContent(11,0.02541618);
	hGenSDofNpix->SetBinContent(12,0.02007725);
	hGenSDofNpix->SetBinContent(13,0.01526951);
	hGenSDofNpix->SetBinContent(14,0.01238847);
	hGenSDofNpix->SetBinContent(15,0.009543445);
	hGenSDofNpix->SetBinContent(16,0.005852113);
	hGenSDofNpix->SetBinContent(17,0.004312557);
	hGenSDofNpix->SetBinContent(18,0.002655959);
	hGenSDofNpix->SetBinContent(19,0.00146753);
	hGenSDofNpix->SetBinContent(20,0.000936338);
	hGenSDofNpix->SetBinContent(21,0.0005491983);
	hGenSDofNpix->SetBinContent(22,0.0003691333);
	hGenSDofNpix->SetBinContent(23,0.000180065);
	hGenSDofNpix->SetBinContent(24,0.000108039);
	hGenSDofNpix->SetBinContent(25,6.302275e-05);
	hGenSDofNpix->SetBinContent(26,9.00325e-06);
	hGenSDofNpix->SetBinContent(28,9.00325e-06);
	hGenSDofNpix->SetBinError(1,0.001917396);
	hGenSDofNpix->SetBinError(2,0.0008354124);
	hGenSDofNpix->SetBinError(3,0.0007552541);
	hGenSDofNpix->SetBinError(4,0.0007678142);
	hGenSDofNpix->SetBinError(5,0.0007504089);
	hGenSDofNpix->SetBinError(6,0.0007351307);
	hGenSDofNpix->SetBinError(7,0.0006827052);
	hGenSDofNpix->SetBinError(8,0.0006255153);
	hGenSDofNpix->SetBinError(9,0.0005768407);
	hGenSDofNpix->SetBinError(10,0.0005311918);
	hGenSDofNpix->SetBinError(11,0.0004783599);
	hGenSDofNpix->SetBinError(12,0.0004251594);
	hGenSDofNpix->SetBinError(13,0.0003707765);
	hGenSDofNpix->SetBinError(14,0.0003339708);
	hGenSDofNpix->SetBinError(15,0.0002931246);
	hGenSDofNpix->SetBinError(16,0.0002295387);
	hGenSDofNpix->SetBinError(17,0.0001970458);
	hGenSDofNpix->SetBinError(18,0.0001546359);
	hGenSDofNpix->SetBinError(19,0.0001149458);
	hGenSDofNpix->SetBinError(20,9.18155e-05);
	hGenSDofNpix->SetBinError(21,7.031763e-05);
	hGenSDofNpix->SetBinError(22,5.764893e-05);
	hGenSDofNpix->SetBinError(23,4.026376e-05);
	hGenSDofNpix->SetBinError(24,3.118817e-05);
	hGenSDofNpix->SetBinError(25,2.382036e-05);
	hGenSDofNpix->SetBinError(26,9.00325e-06);
	hGenSDofNpix->SetBinError(28,9.00325e-06);
	hGenSDofNpix->SetEntries(111071);
	hGenSDofNpix->SetDirectory(0);
	hGenSDofNpix->SetLineStyle(7);
	hGenSDofNpix->SetLineWidth(3);
	hGenSDofNpix->GetXaxis()->SetTitle("M");
	hGenSDofNpix->Draw("hist same");
	
	TH1 *hGenNDofNpix = new TH1D("hGenNDofNpix","Generated processes",250,-0.5,249.5);
	hGenNDofNpix->SetBinContent(1,0.04944957);
	hGenNDofNpix->SetBinContent(2,0.02396684);
	hGenNDofNpix->SetBinContent(3,0.02563171);
	hGenNDofNpix->SetBinContent(4,0.02902679);
	hGenNDofNpix->SetBinContent(5,0.03166393);
	hGenNDofNpix->SetBinContent(6,0.03358494);
	hGenNDofNpix->SetBinContent(7,0.03405539);
	hGenNDofNpix->SetBinContent(8,0.03470095);
	hGenNDofNpix->SetBinContent(9,0.03487606);
	hGenNDofNpix->SetBinContent(10,0.03585617);
	hGenNDofNpix->SetBinContent(11,0.03704798);
	hGenNDofNpix->SetBinContent(12,0.03816137);
	hGenNDofNpix->SetBinContent(13,0.03886444);
	hGenNDofNpix->SetBinContent(14,0.03898205);
	hGenNDofNpix->SetBinContent(15,0.03883569);
	hGenNDofNpix->SetBinContent(16,0.03759422);
	hGenNDofNpix->SetBinContent(17,0.03656184);
	hGenNDofNpix->SetBinContent(18,0.03397698);
	hGenNDofNpix->SetBinContent(19,0.03169268);
	hGenNDofNpix->SetBinContent(20,0.0298919);
	hGenNDofNpix->SetBinContent(21,0.02751613);
	hGenNDofNpix->SetBinContent(22,0.02476138);
	hGenNDofNpix->SetBinContent(23,0.02291094);
	hGenNDofNpix->SetBinContent(24,0.02023721);
	hGenNDofNpix->SetBinContent(25,0.01913427);
	hGenNDofNpix->SetBinContent(26,0.01728121);
	hGenNDofNpix->SetBinContent(27,0.01597179);
	hGenNDofNpix->SetBinContent(28,0.01494464);
	hGenNDofNpix->SetBinContent(29,0.01383647);
	hGenNDofNpix->SetBinContent(30,0.01231273);
	hGenNDofNpix->SetBinContent(31,0.01137967);
	hGenNDofNpix->SetBinContent(32,0.01041264);
	hGenNDofNpix->SetBinContent(33,0.00935151);
	hGenNDofNpix->SetBinContent(34,0.009092762);
	hGenNDofNpix->SetBinContent(35,0.007866978);
	hGenNDofNpix->SetBinContent(36,0.007250165);
	hGenNDofNpix->SetBinContent(37,0.006565398);
	hGenNDofNpix->SetBinContent(38,0.006141992);
	hGenNDofNpix->SetBinContent(39,0.005478135);
	hGenNDofNpix->SetBinContent(40,0.004992002);
	hGenNDofNpix->SetBinContent(41,0.004602574);
	hGenNDofNpix->SetBinContent(42,0.003980534);
	hGenNDofNpix->SetBinContent(43,0.003834171);
	hGenNDofNpix->SetBinContent(44,0.003238267);
	hGenNDofNpix->SetBinContent(45,0.002955997);
	hGenNDofNpix->SetBinContent(46,0.002597932);
	hGenNDofNpix->SetBinContent(47,0.002213731);
	hGenNDofNpix->SetBinContent(48,0.002022937);
	hGenNDofNpix->SetBinContent(49,0.001758962);
	hGenNDofNpix->SetBinContent(50,0.001683167);
	hGenNDofNpix->SetBinContent(51,0.001257148);
	hGenNDofNpix->SetBinContent(52,0.001217944);
	hGenNDofNpix->SetBinContent(53,0.001092491);
	hGenNDofNpix->SetBinContent(54,0.0008886287);
	hGenNDofNpix->SetBinContent(55,0.0007213574);
	hGenNDofNpix->SetBinContent(56,0.0006847668);
	hGenNDofNpix->SetBinContent(57,0.0005776086);
	hGenNDofNpix->SetBinContent(58,0.0004652233);
	hGenNDofNpix->SetBinContent(59,0.0003998829);
	hGenNDofNpix->SetBinContent(60,0.0003371562);
	hGenNDofNpix->SetBinContent(61,0.0003084064);
	hGenNDofNpix->SetBinContent(62,0.0002143163);
	hGenNDofNpix->SetBinContent(63,0.0001568168);
	hGenNDofNpix->SetBinContent(64,0.0001777257);
	hGenNDofNpix->SetBinContent(65,0.0001698849);
	hGenNDofNpix->SetBinContent(66,0.0001071582);
	hGenNDofNpix->SetBinContent(67,8.363564e-05);
	hGenNDofNpix->SetBinContent(68,7.57948e-05);
	hGenNDofNpix->SetBinContent(69,7.57948e-05);
	hGenNDofNpix->SetBinContent(70,4.704505e-05);
	hGenNDofNpix->SetBinContent(71,3.136337e-05);
	hGenNDofNpix->SetBinContent(72,3.397698e-05);
	hGenNDofNpix->SetBinContent(73,1.82953e-05);
	hGenNDofNpix->SetBinContent(74,2.874975e-05);
	hGenNDofNpix->SetBinContent(75,1.82953e-05);
	hGenNDofNpix->SetBinContent(76,1.045446e-05);
	hGenNDofNpix->SetBinContent(78,1.045446e-05);
	hGenNDofNpix->SetBinContent(79,7.840841e-06);
	hGenNDofNpix->SetBinContent(80,1.306807e-05);
	hGenNDofNpix->SetBinContent(81,5.227228e-06);
	hGenNDofNpix->SetBinContent(83,2.613614e-06);
	hGenNDofNpix->SetBinContent(84,5.227228e-06);
	hGenNDofNpix->SetBinContent(85,2.613614e-06);
	hGenNDofNpix->SetBinContent(86,2.613614e-06);
	hGenNDofNpix->SetBinContent(87,2.613614e-06);
	hGenNDofNpix->SetBinError(1,0.0003595026);
	hGenNDofNpix->SetBinError(2,0.00025028);
	hGenNDofNpix->SetBinError(3,0.000258827);
	hGenNDofNpix->SetBinError(4,0.0002754357);
	hGenNDofNpix->SetBinError(5,0.0002876757);
	hGenNDofNpix->SetBinError(6,0.0002962736);
	hGenNDofNpix->SetBinError(7,0.0002983415);
	hGenNDofNpix->SetBinError(8,0.0003011559);
	hGenNDofNpix->SetBinError(9,0.0003019148);
	hGenNDofNpix->SetBinError(10,0.0003061277);
	hGenNDofNpix->SetBinError(11,0.0003111737);
	hGenNDofNpix->SetBinError(12,0.000315815);
	hGenNDofNpix->SetBinError(13,0.0003187109);
	hGenNDofNpix->SetBinError(14,0.0003191928);
	hGenNDofNpix->SetBinError(15,0.000318593);
	hGenNDofNpix->SetBinError(16,0.0003134594);
	hGenNDofNpix->SetBinError(17,0.0003091254);
	hGenNDofNpix->SetBinError(18,0.0002979978);
	hGenNDofNpix->SetBinError(19,0.0002878062);
	hGenNDofNpix->SetBinError(20,0.0002795101);
	hGenNDofNpix->SetBinError(21,0.0002681726);
	hGenNDofNpix->SetBinError(22,0.0002543947);
	hGenNDofNpix->SetBinError(23,0.0002447046);
	hGenNDofNpix->SetBinError(24,0.0002299832);
	hGenNDofNpix->SetBinError(25,0.0002236282);
	hGenNDofNpix->SetBinError(26,0.0002125239);
	hGenNDofNpix->SetBinError(27,0.0002043137);
	hGenNDofNpix->SetBinError(28,0.0001976348);
	hGenNDofNpix->SetBinError(29,0.0001901662);
	hGenNDofNpix->SetBinError(30,0.0001793899);
	hGenNDofNpix->SetBinError(31,0.0001724589);
	hGenNDofNpix->SetBinError(32,0.0001649685);
	hGenNDofNpix->SetBinError(33,0.0001563369);
	hGenNDofNpix->SetBinError(34,0.0001541589);
	hGenNDofNpix->SetBinError(35,0.0001433919);
	hGenNDofNpix->SetBinError(36,0.0001376558);
	hGenNDofNpix->SetBinError(37,0.0001309939);
	hGenNDofNpix->SetBinError(38,0.0001266996);
	hGenNDofNpix->SetBinError(39,0.0001196567);
	hGenNDofNpix->SetBinError(40,0.0001142242);
	hGenNDofNpix->SetBinError(41,0.0001096784);
	hGenNDofNpix->SetBinError(42,0.0001019979);
	hGenNDofNpix->SetBinError(43,0.0001001052);
	hGenNDofNpix->SetBinError(44,9.199772e-05);
	hGenNDofNpix->SetBinError(45,8.789673e-05);
	hGenNDofNpix->SetBinError(46,8.24014e-05);
	hGenNDofNpix->SetBinError(47,7.606469e-05);
	hGenNDofNpix->SetBinError(48,7.271297e-05);
	hGenNDofNpix->SetBinError(49,6.780301e-05);
	hGenNDofNpix->SetBinError(50,6.632608e-05);
	hGenNDofNpix->SetBinError(51,5.732103e-05);
	hGenNDofNpix->SetBinError(52,5.642017e-05);
	hGenNDofNpix->SetBinError(53,5.343546e-05);
	hGenNDofNpix->SetBinError(54,4.819266e-05);
	hGenNDofNpix->SetBinError(55,4.342061e-05);
	hGenNDofNpix->SetBinError(56,4.230504e-05);
	hGenNDofNpix->SetBinError(57,3.885416e-05);
	hGenNDofNpix->SetBinError(58,3.486996e-05);
	hGenNDofNpix->SetBinError(59,3.232862e-05);
	hGenNDofNpix->SetBinError(60,2.968495e-05);
	hGenNDofNpix->SetBinError(61,2.839111e-05);
	hGenNDofNpix->SetBinError(62,2.366728e-05);
	hGenNDofNpix->SetBinError(63,2.024497e-05);
	hGenNDofNpix->SetBinError(64,2.155241e-05);
	hGenNDofNpix->SetBinError(65,2.107163e-05);
	hGenNDofNpix->SetBinError(66,1.673529e-05);
	hGenNDofNpix->SetBinError(67,1.478483e-05);
	hGenNDofNpix->SetBinError(68,1.407474e-05);
	hGenNDofNpix->SetBinError(69,1.407474e-05);
	hGenNDofNpix->SetBinError(70,1.108862e-05);
	hGenNDofNpix->SetBinError(71,9.053824e-06);
	hGenNDofNpix->SetBinError(72,9.423519e-06);
	hGenNDofNpix->SetBinError(73,6.914972e-06);
	hGenNDofNpix->SetBinError(74,8.668376e-06);
	hGenNDofNpix->SetBinError(75,6.914972e-06);
	hGenNDofNpix->SetBinError(76,5.227228e-06);
	hGenNDofNpix->SetBinError(78,5.227228e-06);
	hGenNDofNpix->SetBinError(79,4.526912e-06);
	hGenNDofNpix->SetBinError(80,5.844218e-06);
	hGenNDofNpix->SetBinError(81,3.696208e-06);
	hGenNDofNpix->SetBinError(83,2.613614e-06);
	hGenNDofNpix->SetBinError(84,3.696208e-06);
	hGenNDofNpix->SetBinError(85,2.613614e-06);
	hGenNDofNpix->SetBinError(86,2.613614e-06);
	hGenNDofNpix->SetBinError(87,2.613614e-06);
	hGenNDofNpix->SetEntries(382612);
	hGenNDofNpix->SetDirectory(0);
	hGenNDofNpix->SetLineWidth(3);
	hGenNDofNpix->GetXaxis()->SetTitle("M");
	hGenNDofNpix->Draw("hist same");	
	TLegend *leg = new TLegend(0.62,0.58,0.998,0.76,NULL,"brNDC");
	leg->SetBorderSize(0);
	leg->SetFillColor(0);
	leg->SetFillStyle(0);

	TLegendEntry *entry;
        entry=leg->AddEntry(hGenNDofNpix,"PYTHIA D6T","");
        entry=leg->AddEntry(hGenNDofNpix,"NSD events","L");
        entry=leg->AddEntry(hGenSDofNpix,"SD events","L");
	entry=leg->AddEntry(hGenSDofNpix,"(|#eta|<2.5)","");

	leg->Draw();

	// add some text labels
	double ndcX = 0.2;
	double ndcY = 0.9;
	TLatex *tex = new TLatex(0.85,ndcY,"CMS");
	tex->SetTextSize(0.04);
	tex->SetLineWidth(2);
	tex->SetNDC();
	tex->Draw();

	cEvtSel->Modified();
	cEvtSel->cd();
	cEvtSel->SetSelected(cEvtSel);

	printFinalCanvases(cEvtSel,"diffrac");

}


