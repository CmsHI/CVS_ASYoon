#include "common.h"

void diffrac(){

	//=========Macro generated from canvas: cEvtSel/EvtSel
	//=========  (Thu Dec 17 14:05:21 2009) by ROOT version5.22/00d

  gROOT->Reset();
  gROOT->ProcessLine(".x rootlogon.C");

	TCanvas *cEvtSel = new TCanvas("cEvtSel", "EvtSel",550,600);
	
	TH1 *hFrame = new TH2D("hFrame","",1,0,20.5,1,0,1.05);
	hFrame->SetDirectory(0);
	hFrame->SetStats(0);
	hFrame->GetXaxis()->SetTitle("Event multiplicity (|#eta|<2.5)");
	hFrame->GetYaxis()->SetTitle("Fraction #times 10");
	hFrame->Draw("");

	hFrame->GetXaxis()->CenterTitle();
        hFrame->GetYaxis()->CenterTitle();

	hFrame->GetXaxis()->SetNdivisions(20);

	TH1 *hGenSDofNpix = new TH1D("hGenSDofNpix","Generated processes",250,-0.5,249.5);
	hGenSDofNpix->SetBinContent(1,4.083424);
	hGenSDofNpix->SetBinContent(2,0.7751798);
	hGenSDofNpix->SetBinContent(3,0.6335587);
	hGenSDofNpix->SetBinContent(4,0.6548064);
	hGenSDofNpix->SetBinContent(5,0.6254558);
	hGenSDofNpix->SetBinContent(6,0.6002467);
	hGenSDofNpix->SetBinContent(7,0.5176869);
	hGenSDofNpix->SetBinContent(8,0.4345869);
	hGenSDofNpix->SetBinContent(9,0.3695834);
	hGenSDofNpix->SetBinContent(10,0.3134031);
	hGenSDofNpix->SetBinContent(11,0.2541618);
	hGenSDofNpix->SetBinContent(12,0.2007725);
	hGenSDofNpix->SetBinContent(13,0.1526951);
	hGenSDofNpix->SetBinContent(14,0.1238847);
	hGenSDofNpix->SetBinContent(15,0.09543445);
	hGenSDofNpix->SetBinContent(16,0.05852113);
	hGenSDofNpix->SetBinContent(17,0.04312557);
	hGenSDofNpix->SetBinContent(18,0.02655959);
	hGenSDofNpix->SetBinContent(19,0.0146753);
	hGenSDofNpix->SetBinContent(20,0.00936338);
	hGenSDofNpix->SetBinContent(21,0.005491983);
	hGenSDofNpix->SetBinContent(22,0.003691333);
	hGenSDofNpix->SetBinContent(23,0.00180065);
	hGenSDofNpix->SetBinContent(24,0.00108039);
	hGenSDofNpix->SetBinContent(25,0.0006302275);
	hGenSDofNpix->SetBinContent(26,9.00325e-05);
	hGenSDofNpix->SetBinContent(28,9.00325e-05);
	hGenSDofNpix->SetBinError(1,0.01917396);
	hGenSDofNpix->SetBinError(2,0.008354124);
	hGenSDofNpix->SetBinError(3,0.007552541);
	hGenSDofNpix->SetBinError(4,0.007678142);
	hGenSDofNpix->SetBinError(5,0.007504089);
	hGenSDofNpix->SetBinError(6,0.007351307);
	hGenSDofNpix->SetBinError(7,0.006827052);
	hGenSDofNpix->SetBinError(8,0.006255153);
	hGenSDofNpix->SetBinError(9,0.005768407);
	hGenSDofNpix->SetBinError(10,0.005311918);
	hGenSDofNpix->SetBinError(11,0.004783599);
	hGenSDofNpix->SetBinError(12,0.004251594);
	hGenSDofNpix->SetBinError(13,0.003707765);
	hGenSDofNpix->SetBinError(14,0.003339708);
	hGenSDofNpix->SetBinError(15,0.002931246);
	hGenSDofNpix->SetBinError(16,0.002295387);
	hGenSDofNpix->SetBinError(17,0.001970458);
	hGenSDofNpix->SetBinError(18,0.001546359);
	hGenSDofNpix->SetBinError(19,0.001149458);
	hGenSDofNpix->SetBinError(20,0.000918155);
	hGenSDofNpix->SetBinError(21,0.0007031763);
	hGenSDofNpix->SetBinError(22,0.0005764893);
	hGenSDofNpix->SetBinError(23,0.0004026376);
	hGenSDofNpix->SetBinError(24,0.0003118817);
	hGenSDofNpix->SetBinError(25,0.0002382036);
	hGenSDofNpix->SetBinError(26,9.00325e-05);
	hGenSDofNpix->SetBinError(28,9.00325e-05);
	hGenSDofNpix->SetEntries(111071);
	hGenSDofNpix->SetDirectory(0);
	hGenSDofNpix->SetLineStyle(7);
	hGenSDofNpix->SetLineWidth(3);
	hGenSDofNpix->GetXaxis()->SetTitle("M");
	hGenSDofNpix->GetXaxis()->SetRange(2,31);
	hGenSDofNpix->Draw("hist same");
	
	TH1 *hGenNDofNpix = new TH1D("hGenNDofNpix","Generated processes",250,-0.5,249.5);
	hGenNDofNpix->SetBinContent(1,0.4944957);
	hGenNDofNpix->SetBinContent(2,0.2396684);
	hGenNDofNpix->SetBinContent(3,0.2563171);
	hGenNDofNpix->SetBinContent(4,0.2902679);
	hGenNDofNpix->SetBinContent(5,0.3166393);
	hGenNDofNpix->SetBinContent(6,0.3358494);
	hGenNDofNpix->SetBinContent(7,0.3405539);
	hGenNDofNpix->SetBinContent(8,0.3470095);
	hGenNDofNpix->SetBinContent(9,0.3487606);
	hGenNDofNpix->SetBinContent(10,0.3585617);
	hGenNDofNpix->SetBinContent(11,0.3704798);
	hGenNDofNpix->SetBinContent(12,0.3816137);
	hGenNDofNpix->SetBinContent(13,0.3886444);
	hGenNDofNpix->SetBinContent(14,0.3898205);
	hGenNDofNpix->SetBinContent(15,0.3883569);
	hGenNDofNpix->SetBinContent(16,0.3759422);
	hGenNDofNpix->SetBinContent(17,0.3656184);
	hGenNDofNpix->SetBinContent(18,0.3397698);
	hGenNDofNpix->SetBinContent(19,0.3169268);
	hGenNDofNpix->SetBinContent(20,0.298919);
	hGenNDofNpix->SetBinContent(21,0.2751613);
	hGenNDofNpix->SetBinContent(22,0.2476138);
	hGenNDofNpix->SetBinContent(23,0.2291094);
	hGenNDofNpix->SetBinContent(24,0.2023721);
	hGenNDofNpix->SetBinContent(25,0.1913427);
	hGenNDofNpix->SetBinContent(26,0.1728121);
	hGenNDofNpix->SetBinContent(27,0.1597179);
	hGenNDofNpix->SetBinContent(28,0.1494464);
	hGenNDofNpix->SetBinContent(29,0.1383647);
	hGenNDofNpix->SetBinContent(30,0.1231273);
	hGenNDofNpix->SetBinContent(31,0.1137967);
	hGenNDofNpix->SetBinContent(32,0.1041264);
	hGenNDofNpix->SetBinContent(33,0.0935151);
	hGenNDofNpix->SetBinContent(34,0.09092762);
	hGenNDofNpix->SetBinContent(35,0.07866978);
	hGenNDofNpix->SetBinContent(36,0.07250165);
	hGenNDofNpix->SetBinContent(37,0.06565398);
	hGenNDofNpix->SetBinContent(38,0.06141992);
	hGenNDofNpix->SetBinContent(39,0.05478135);
	hGenNDofNpix->SetBinContent(40,0.04992002);
	hGenNDofNpix->SetBinContent(41,0.04602574);
	hGenNDofNpix->SetBinContent(42,0.03980534);
	hGenNDofNpix->SetBinContent(43,0.03834171);
	hGenNDofNpix->SetBinContent(44,0.03238267);
	hGenNDofNpix->SetBinContent(45,0.02955997);
	hGenNDofNpix->SetBinContent(46,0.02597932);
	hGenNDofNpix->SetBinContent(47,0.02213731);
	hGenNDofNpix->SetBinContent(48,0.02022937);
	hGenNDofNpix->SetBinContent(49,0.01758962);
	hGenNDofNpix->SetBinContent(50,0.01683167);
	hGenNDofNpix->SetBinContent(51,0.01257148);
	hGenNDofNpix->SetBinContent(52,0.01217944);
	hGenNDofNpix->SetBinContent(53,0.01092491);
	hGenNDofNpix->SetBinContent(54,0.008886287);
	hGenNDofNpix->SetBinContent(55,0.007213574);
	hGenNDofNpix->SetBinContent(56,0.006847668);
	hGenNDofNpix->SetBinContent(57,0.005776086);
	hGenNDofNpix->SetBinContent(58,0.004652233);
	hGenNDofNpix->SetBinContent(59,0.003998829);
	hGenNDofNpix->SetBinContent(60,0.003371562);
	hGenNDofNpix->SetBinContent(61,0.003084064);
	hGenNDofNpix->SetBinContent(62,0.002143163);
	hGenNDofNpix->SetBinContent(63,0.001568168);
	hGenNDofNpix->SetBinContent(64,0.001777257);
	hGenNDofNpix->SetBinContent(65,0.001698849);
	hGenNDofNpix->SetBinContent(66,0.001071582);
	hGenNDofNpix->SetBinContent(67,0.0008363564);
	hGenNDofNpix->SetBinContent(68,0.000757948);
	hGenNDofNpix->SetBinContent(69,0.000757948);
	hGenNDofNpix->SetBinContent(70,0.0004704505);
	hGenNDofNpix->SetBinContent(71,0.0003136337);
	hGenNDofNpix->SetBinContent(72,0.0003397698);
	hGenNDofNpix->SetBinContent(73,0.000182953);
	hGenNDofNpix->SetBinContent(74,0.0002874975);
	hGenNDofNpix->SetBinContent(75,0.000182953);
	hGenNDofNpix->SetBinContent(76,0.0001045446);
	hGenNDofNpix->SetBinContent(78,0.0001045446);
	hGenNDofNpix->SetBinContent(79,7.840841e-05);
	hGenNDofNpix->SetBinContent(80,0.0001306807);
	hGenNDofNpix->SetBinContent(81,5.227228e-05);
	hGenNDofNpix->SetBinContent(83,2.613614e-05);
	hGenNDofNpix->SetBinContent(84,5.227228e-05);
	hGenNDofNpix->SetBinContent(85,2.613614e-05);
	hGenNDofNpix->SetBinContent(86,2.613614e-05);
	hGenNDofNpix->SetBinContent(87,2.613614e-05);
	hGenNDofNpix->SetBinError(1,0.003595026);
	hGenNDofNpix->SetBinError(2,0.0025028);
	hGenNDofNpix->SetBinError(3,0.00258827);
	hGenNDofNpix->SetBinError(4,0.002754357);
	hGenNDofNpix->SetBinError(5,0.002876757);
	hGenNDofNpix->SetBinError(6,0.002962736);
	hGenNDofNpix->SetBinError(7,0.002983415);
	hGenNDofNpix->SetBinError(8,0.003011559);
	hGenNDofNpix->SetBinError(9,0.003019148);
	hGenNDofNpix->SetBinError(10,0.003061277);
	hGenNDofNpix->SetBinError(11,0.003111737);
	hGenNDofNpix->SetBinError(12,0.00315815);
	hGenNDofNpix->SetBinError(13,0.003187109);
	hGenNDofNpix->SetBinError(14,0.003191928);
	hGenNDofNpix->SetBinError(15,0.00318593);
	hGenNDofNpix->SetBinError(16,0.003134594);
	hGenNDofNpix->SetBinError(17,0.003091254);
	hGenNDofNpix->SetBinError(18,0.002979978);
	hGenNDofNpix->SetBinError(19,0.002878062);
	hGenNDofNpix->SetBinError(20,0.002795101);
	hGenNDofNpix->SetBinError(21,0.002681726);
	hGenNDofNpix->SetBinError(22,0.002543947);
	hGenNDofNpix->SetBinError(23,0.002447046);
	hGenNDofNpix->SetBinError(24,0.002299832);
	hGenNDofNpix->SetBinError(25,0.002236282);
	hGenNDofNpix->SetBinError(26,0.002125239);
	hGenNDofNpix->SetBinError(27,0.002043137);
	hGenNDofNpix->SetBinError(28,0.001976348);
	hGenNDofNpix->SetBinError(29,0.001901662);
	hGenNDofNpix->SetBinError(30,0.001793899);
	hGenNDofNpix->SetBinError(31,0.001724589);
	hGenNDofNpix->SetBinError(32,0.001649685);
	hGenNDofNpix->SetBinError(33,0.001563369);
	hGenNDofNpix->SetBinError(34,0.001541589);
	hGenNDofNpix->SetBinError(35,0.001433919);
	hGenNDofNpix->SetBinError(36,0.001376558);
	hGenNDofNpix->SetBinError(37,0.001309939);
	hGenNDofNpix->SetBinError(38,0.001266996);
	hGenNDofNpix->SetBinError(39,0.001196567);
	hGenNDofNpix->SetBinError(40,0.001142242);
	hGenNDofNpix->SetBinError(41,0.001096784);
	hGenNDofNpix->SetBinError(42,0.001019979);
	hGenNDofNpix->SetBinError(43,0.001001052);
	hGenNDofNpix->SetBinError(44,0.0009199772);
	hGenNDofNpix->SetBinError(45,0.0008789673);
	hGenNDofNpix->SetBinError(46,0.000824014);
	hGenNDofNpix->SetBinError(47,0.0007606469);
	hGenNDofNpix->SetBinError(48,0.0007271297);
	hGenNDofNpix->SetBinError(49,0.0006780301);
	hGenNDofNpix->SetBinError(50,0.0006632608);
	hGenNDofNpix->SetBinError(51,0.0005732103);
	hGenNDofNpix->SetBinError(52,0.0005642017);
	hGenNDofNpix->SetBinError(53,0.0005343546);
	hGenNDofNpix->SetBinError(54,0.0004819266);
	hGenNDofNpix->SetBinError(55,0.0004342061);
	hGenNDofNpix->SetBinError(56,0.0004230504);
	hGenNDofNpix->SetBinError(57,0.0003885416);
	hGenNDofNpix->SetBinError(58,0.0003486996);
	hGenNDofNpix->SetBinError(59,0.0003232862);
	hGenNDofNpix->SetBinError(60,0.0002968495);
	hGenNDofNpix->SetBinError(61,0.0002839111);
	hGenNDofNpix->SetBinError(62,0.0002366728);
	hGenNDofNpix->SetBinError(63,0.0002024497);
	hGenNDofNpix->SetBinError(64,0.0002155241);
	hGenNDofNpix->SetBinError(65,0.0002107163);
	hGenNDofNpix->SetBinError(66,0.0001673529);
	hGenNDofNpix->SetBinError(67,0.0001478483);
	hGenNDofNpix->SetBinError(68,0.0001407474);
	hGenNDofNpix->SetBinError(69,0.0001407474);
	hGenNDofNpix->SetBinError(70,0.0001108862);
	hGenNDofNpix->SetBinError(71,9.053824e-05);
	hGenNDofNpix->SetBinError(72,9.423519e-05);
	hGenNDofNpix->SetBinError(73,6.914972e-05);
	hGenNDofNpix->SetBinError(74,8.668376e-05);
	hGenNDofNpix->SetBinError(75,6.914972e-05);
	hGenNDofNpix->SetBinError(76,5.227228e-05);
	hGenNDofNpix->SetBinError(78,5.227228e-05);
	hGenNDofNpix->SetBinError(79,4.526912e-05);
	hGenNDofNpix->SetBinError(80,5.844218e-05);
	hGenNDofNpix->SetBinError(81,3.696208e-05);
	hGenNDofNpix->SetBinError(83,2.613614e-05);
	hGenNDofNpix->SetBinError(84,3.696208e-05);
	hGenNDofNpix->SetBinError(85,2.613614e-05);
	hGenNDofNpix->SetBinError(86,2.613614e-05);
	hGenNDofNpix->SetBinError(87,2.613614e-05);
	hGenNDofNpix->SetEntries(382612);
	hGenNDofNpix->SetDirectory(0);
	hGenNDofNpix->SetLineWidth(3);
	hGenNDofNpix->GetXaxis()->SetTitle("M");
	hGenNDofNpix->GetXaxis()->SetRange(2,31);
	hGenNDofNpix->Draw("hist same");
	
	TLegend *leg = new TLegend(0.35,0.70,0.98,0.88,NULL,"brNDC");
	leg->SetBorderSize(0);
	leg->SetFillColor(0);
	leg->SetFillStyle(0);

	TLegendEntry *entry;
        entry=leg->AddEntry(hGenNDofNpix,"PYTHIA D6T","");
        entry=leg->AddEntry(hGenNDofNpix,"NSD events","L");
        entry=leg->AddEntry(hGenSDofNpix,"SD events","L");
	leg->Draw();

	// add some text labels
	double ndcX = 0.2;
	double ndcY = 0.9;
	TLatex *tex = new TLatex(0.85,ndcY,"CMS");
	tex->SetTextSize(0.04);
	tex->SetLineWidth(2);
	tex->SetNDC();
	tex->Draw();

	cEvtSel->Modified();
	cEvtSel->cd();
	cEvtSel->SetSelected(cEvtSel);

	printFinalCanvases(cEvtSel,"diffrac");

}


